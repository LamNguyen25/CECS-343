/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package DisplayImage;

import java.awt.Color;
import java.util.LinkedList;
import javax.swing.JFrame;


/**
 *
 * @author Hueletl
 */
public class Board extends javax.swing.JFrame {
    
    // Variables declaration - do not modify                     
    private javax.swing.JLabel map;
    private javax.swing.JLabel backGround;                 
    private final LinkedList <Monster> monsters;
    private javax.swing.JLabel frame;
    private javax.swing.JLabel pane;
    private final LinkedList <Integer> VPs;
    private final LinkedList <Integer> HPs;
    private final LinkedList <Integer> EPs;
    private final LinkedList <Integer> PCs;
    private LinkedList <javax.swing.JLabel> outsideTokyo;
    private javax.swing.JButton roll;
    private javax.swing.JLabel curPlayer;
    private javax.swing.JFrame intoTokyo;
    // End of variables declaration  
    
    public Board(LinkedList <Monster> monsters) {
        
        this.map = new javax.swing.JLabel();
        this.backGround = new javax.swing.JLabel();
        this.monsters = monsters; 
        this.VPs = new LinkedList<>();
        this.HPs = new LinkedList<>();
        this.EPs = new LinkedList<>();
        this.PCs = new LinkedList<>();
        this.outsideTokyo = new LinkedList<>();
        this.roll = new javax.swing.JButton();
        this.curPlayer = new javax.swing.JLabel();
        this.intoTokyo = new javax.swing.JFrame();
        
        
        initComponents();        
    }
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        backGround = new javax.swing.JLabel();
        map = new javax.swing.JLabel();
        
        int windowW = 1200;
        int windowH = 820;
        int windowMX = windowW/2;
        int x = 0;
        int y = 0;
        int w = 0;
        int h = 0;

        for(int i = 0; i < this.monsters.size(); ++i){
            w = 300;
            h = 266;
            x = this.getX();
    
            if(i % 2 == 0){
                y = (i/2) * h;         
            }else{
                x = w;
                y = (int)Math.floor(i/2) * h;
            }
            
            // splitpanes
            int k = 0;
            for(int j = (4*i); j < (4*(i+1)); ++j, ++k){

                int space = 5;
                int paneX = x + space;
                int paneY;
                int paneW = 45;
                int paneH = 40;
                int fontSize = 28;
                
                if(k%2 == 0){
                    paneY = y + ((k/2) * (226-(2*space))) + space;
                }else{
                    paneX = x + 206 + space;
                    paneY = y + ((int)Math.floor(k/2) * (226-(2*space))) + space;
                   
                }
                
                javax.swing.JLabel paneL = new javax.swing.JLabel();
                javax.swing.JLabel paneR = new javax.swing.JLabel();
                
                int newPaneX = paneX + paneW;
                
                Monster monster = monsters.get(i);
                
                switch (k) {
                    case 0:  //top left
                        Setting.frame(this, paneL, paneX, paneY, paneW, paneH, true);
                        Setting.image( paneL, "VP.png");
                        
                        VPs.add(Setting.frame(this, paneR, newPaneX, paneY, paneW, paneH, false));
                        Setting.frameText(paneR, Integer.toString(monster.getVP()), fontSize, Color.BLUE);
                        break;
                    case 1:  //top right
                        Setting.frame(this, paneL, paneX, paneY, paneW, paneH, true);
                        Setting.image( paneL, "HP.png");
                        
                        HPs.add(Setting.frame(this, paneR, newPaneX, paneY, paneW, paneH, false));
                        Setting.frameText(paneR, Integer.toString(monster.getHP()), fontSize, Color.RED);
                        break;
                    case 2:  //bottom left
                        Setting.frame(this, paneL, paneX, paneY, paneW, paneH, true);
                        Setting.image( paneL, "EP.png");
                        
                        EPs.add(Setting.frame(this, paneR, newPaneX, paneY, paneW, paneH, false));
                        Setting.frameText(paneR, Integer.toString(monster.getEP()), fontSize, Color.GREEN);
                        break;
                    case 3:  //bottom right
                        
                        javax.swing.JButton buttonL = new javax.swing.JButton();
                        Setting.button(this, buttonL, paneX, paneY, paneW, paneH, true);
                        Setting.image( buttonL, "PC.png");
                        
                        PCs.add(Setting.frame(this, paneR, newPaneX, paneY, paneW-space, paneH, true));
                        Setting.frameText(paneR, Integer.toString(monster.getPC()), fontSize, Color.ORANGE);
                        break;
                    default:
                        break;
                }     
            }
            
            String name = monsters.get(i).getName();
            String player = Integer.toString(i + 1);
            
            frame = new javax.swing.JLabel();
            Setting.frame(this, frame, x, y + (h - 100), 300, 40, false);
            Setting.frameText(frame, name, 30, Color.YELLOW);
            
            
            // monster frame
            frame = new javax.swing.JLabel();
            Setting.frame(this, frame, x, y, w, h, true);
            Setting.image(frame,  name +".jpg");
            
            w = 99;
            h = 105;
            x = 1097 - (i * w);
            y = 690;
            
            frame = new javax.swing.JLabel();
            Setting.frame(this, frame, x + 20, y - 40 , 60, 40, false);
            Setting.frameText(frame, "P" + player, 30, Color.YELLOW);
            
            frame = new javax.swing.JLabel();
            Setting.frame(this, frame, x, y, w, h, true);
            Setting.image(frame,  name +".jpg");
            outsideTokyo.add(frame);
        }
        
        x = 800;
        y = 550;
        w = 70;
        h = 50;
        
        Setting.frame(this, curPlayer, x, y, w, h, false);
        Setting.frameText(curPlayer, "P1", 45, Color.BLACK);
        
        x += w;
        w *= 2;  
        Setting.button(this, roll, x, y, w, h, true);
        Setting.buttonText(roll, "ROLL", 45, Color.GREEN);
        roll.addActionListener(this::rollActionPerformed);
        
        Setting.frame(this, map, windowMX, 0, windowMX, windowH-22, true);
        Setting.image(map, "tokyoLand.jpg");
        
        Setting.window(this, backGround, "King Of Tokyo", windowW, windowH, true);

        pack();
    }// </editor-fold>    
    
    public void rollActionPerformed(java.awt.event.ActionEvent evt){
        
//        Setting.window(intoTokyo, 500, 500, false);
//        Setting.windowText(intoTokyo, "Do you want to move\ninto\nTokyo", 45, Color.BLACK, 0, 0, 500, 100, false);
//        
//        javax.swing.JButton yes = new javax.swing.JButton();
//        Setting.button(intoTokyo, yes, 175, 300, 150, 100, false);
//        Setting.buttonText(yes, "YES", 45, Color.BLACK);
//        yes.addActionListener(this::yesActionPerformed);
//        intoTokyo.setVisible(true);
        new RollDice().setVisible(true);
    }
    
    public void moveInToTokyo(javax.swing.JLabel label){
        
        label.setLocation(850, 100);
        
    }
    
    public void yesActionPerformed(java.awt.event.ActionEvent evt){
        moveInToTokyo(outsideTokyo.get(0));
        intoTokyo.setVisible(false);
        
        
    }
}
